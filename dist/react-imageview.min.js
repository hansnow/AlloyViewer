module.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleImgView=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),c=n(2),h=i(c),f=n(9),p=i(f),d=n(10),y=i(d),v=n(11),b=n(12),g=i(b);n(13);var m=30,w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.initScale=1,n.screenWidth=window.innerWidth||window.screen.availWidth,n.screenHeight=window.innerHeight||window.screen.availHeight,n.list=null,n.ob=null,n.focused=null,n.arrLength=e.imagelist.length,n.state={current:e.current},n.onOrientationChange=n.onOrientationChange.bind(n),n}return a(t,e),s(t,[{key:"onOrientationChange",value:function(){var e=this;setTimeout(function(){e.screenWidth=window.innerWidth||window.screen.availWidth,e.screenHeight=window.innerHeight||window.screen.availHeight,e.changeIndex(e.state.current)},100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.desc,i=t.disablePageNum,r=t.children,o=t.gap;return l.default.createElement("div",{className:"imageview"},l.default.createElement(p.default,{onSingleTap:this.onSingleTap.bind(this),onPressMove:this.onPressMove.bind(this),onSwipe:this.onSwipe.bind(this)},l.default.createElement("ul",{ref:function(t){e.list=t},className:"imagelist"},this.props.imagelist.map(function(t,n){return l.default.createElement("li",{className:"imagelist-item",style:{marginRight:o+"px"},key:"img"+n},l.default.createElement(p.default,{onPressMove:e.onPicPressMove.bind(e),onMultipointStart:e.onMultipointStart.bind(e),onLongTap:e.onLongTap.bind(e),onPinch:e.onPinch.bind(e),onRotate:e.onRotate.bind(e),onMultipointEnd:e.onMultipointEnd.bind(e),onDoubleTap:e.onDoubleTap.bind(e)},l.default.createElement(v.CenterImage,{id:"view"+n,className:"imagelist-item-img",lazysrc:t,index:n,current:e.state.current})))}))),i?null:l.default.createElement("div",{className:"page",ref:"page"},this.state.current+1," / ",this.arrLength),n?l.default.createElement("div",{dangerouslySetInnerHTML:{__html:n}}):null,r)}},{key:"componentDidMount",value:function(){var e=this.state.current,t=this.props,n=t.imagelist,i=t.initCallback;this.arrLength=n.length,(0,y.default)(this.list),e&&this.changeIndex(e,!1),this.bindStyle(e),i&&i(),window.addEventListener("orientationchange",this.onOrientationChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("orientationchange",this.onOrientationChange)}},{key:"onSingleTap",value:function(){this.props.close&&this.props.close()}},{key:"onPressMove",value:function(e){var t=this.state.current;this.endAnimation(),this.focused||(0===t&&e.deltaX>0||t===this.arrLength-1&&e.deltaX<0?this.list.translateX+=e.deltaX/3:this.list.translateX+=e.deltaX),e.preventDefault()}},{key:"onSwipe",value:function(e){var t=e.direction,n=this.state.current;if(this.focused)return!1;switch(t){case"Left":n<this.arrLength-1&&++n&&this.bindStyle(n);break;case"Right":n>0&&n--&&this.bindStyle(n)}this.changeIndex(n)}},{key:"onPicPressMove",value:function(e){var t=e.deltaX,n=e.deltaY,i=this.ob.getAttribute("long"),r=this.ob,o=r.scaleX,a=r.width;this.ob.scaleX<=1||e.touches.length>1||(this.ob&&this.checkBoundary(t,n)?(!i&&(this.ob.translateX+=t),this.ob.translateY+=n,i&&o*a===this.screenWidth?this.focused=!1:this.focused=!0):this.focused=!1)}},{key:"onMultipointStart",value:function(){this.initScale=this.ob.scaleX}},{key:"onPinch",value:function(e){if(this.props.disablePinch||this.ob.getAttribute("long"))return!1;this.ob.style.webkitTransition="cubic-bezier(.25,.01,.25,1)";var t=this.ob,n=t.originX,i=t.originY,r=e.center.x-this.screenWidth/2-document.body.scrollLeft,o=e.center.y-this.screenHeight/2-document.body.scrollTop;this.ob.originX=r,this.ob.originY=o,this.ob.translateX=this.ob.translateX+(r-n)*this.ob.scaleX,this.ob.translateY=this.ob.translateY+(o-i)*this.ob.scaleY,this.ob.scaleX=this.ob.scaleY=this.initScale*e.scale}},{key:"onRotate",value:function(e){return!(!this.props.enableRotate||this.ob.getAttribute("rate")>=3.5)&&(this.ob.style.webkitTransition="cubic-bezier(.25,.01,.25,1)",void(this.ob.rotateZ+=e.angle))}},{key:"onLongTap",value:function(){this.props.longTap&&this.props.longTap()}},{key:"onMultipointEnd",value:function(e){if(this.changeIndex(this.state.current),this.ob){this.ob.style.webkitTransition="300ms ease";var t=this.props.maxScale,n=this.ob.getAttribute("long");this.ob.scaleX<1&&this.restore(!1),this.ob.scaleX>t&&!n&&this.setScale(t);var i=this.ob.rotateZ%360,r=this.ob.getAttribute("rate");i<0&&(i=360+i),this.ob.rotateZ=i,i>0&&i<45?this.ob.rotateZ=0:i>=315?this.ob.rotateZ=360:i>=45&&i<135?(this.ob.rotateZ=90,this.setScale(r)):i>=135&&i<225?this.ob.rotateZ=180:i>=225&&i<315&&(this.ob.rotateZ=270,this.setScale(r))}}},{key:"onDoubleTap",value:function(e){if(this.props.disableDoubleTap)return!1;var t=e.origin,n=t[0]-this.screenWidth/2-document.body.scrollLeft,i=t[1]-this.screenHeight/2-document.body.scrollTop,r=this.ob.getAttribute("long");1===this.ob.scaleX?(!r&&(this.ob.translateX=this.ob.originX=n),!r&&(this.ob.translateY=this.ob.originY=i),this.setScale(r?this.screenWidth/this.ob.width:this.props.maxScale)):(this.ob.translateX=this.ob.originX,this.ob.translateY=this.ob.originY,this.setScale(1))}},{key:"bindStyle",value:function(e){var t=this;this.setState({current:e},function(){t.ob&&t.restore(),t.ob=document.getElementById("view"+e),t.ob&&!t.ob.scaleX&&(0,y.default)(t.ob);var n=t.refs.page;n&&(n.classList.remove("hide"),setTimeout(function(){n.classList.add("hide")},2e3))})}},{key:"changeIndex",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.list.style.webkitTransition="300ms ease"),this.list.translateX=-e*(this.screenWidth+this.props.gap),this.props.changeIndex&&this.props.changeIndex(e)}},{key:"setScale",value:function(e){this.ob.style.webkitTransition="300ms ease-in-out",this.ob.scaleX=this.ob.scaleY=e}},{key:"restore",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ob.translateX=this.ob.translateY=0,!!e&&(this.ob.rotateZ=0),this.ob.scaleX=this.ob.scaleY=1,this.ob.originX=this.ob.originY=0}},{key:"endAnimation",value:function(){this.list.style.webkitTransition="0",this.ob&&this.ob.style&&(this.ob.style.webkitTransition="0")}},{key:"checkBoundary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.ob,i=n.scaleX,r=n.translateX,o=n.translateY,a=n.originX,s=n.originY,u=n.width,l=n.height,c=this.ob.getAttribute("rate");if(1!==i||i!==c){var h=(i-1)*(u/2+a)+a,f=-(i-1)*(u/2-a)+a,p=(i-1)*(l/2+s)+s,d=-(i-1)*(l/2-s)+s;if(r+e<=h&&r+e>=f&&o+t<=p&&o+t>=d)return!0}return!1}}]),t}(u.Component);w.defaultProps={gap:m,current:0,disablePageNum:!1,desc:"",maxScale:2},w.propTypes={gap:h.default.number,maxScale:h.default.number,current:h.default.number,imagelist:h.default.array.isRequired,disablePageNum:h.default.bool,disablePinch:h.default.bool,enableRotate:h.default.bool,disableDoubleTap:h.default.bool,longTap:h.default.func,close:h.default.func.isRequired,changeIndex:h.default.func,initCallback:h.default.func};t.SingleImgView=new g.default(w);t.default=w},function(e,t){e.exports=require("react")},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},o=!0;e.exports=n(4)(r,o)}else e.exports=n(8)()}).call(t,n(3))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){y&&p&&(y=!1,p.length?d=p.concat(d):v=-1,d.length&&s())}function s(){if(!y){var e=r(a);y=!0;for(var t=d.length;t;){for(p=d,d=[];++v<t;)p&&p[v].run();v=-1,t=d.length}p=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,h,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var p,d=[],y=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||y||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";function i(){return null}var r=n(5),o=n(6),a=n(7),s=function(){};"production"!==t.env.NODE_ENV&&(s=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),e.exports=function(e,n){function u(e){var t=e&&(j&&e[j]||e[M]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function h(e){function i(i,u,l,h,f,p,d){if(h=h||X,p=p||l,d!==o){if(n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=h+":"+l;!r[v]&&a<3&&(s("You are manually calling a React.PropTypes validation function for the `"+p+"` prop on `"+h+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[v]=!0,a++)}}return null==u[l]?i?new c(null===u[l]?"The "+f+" `"+p+"` is marked as required "+("in `"+h+"`, but its value is `null`."):"The "+f+" `"+p+"` is marked as required in "+("`"+h+"`, but its value is `undefined`.")):null:e(u,l,h,f,p)}if("production"!==t.env.NODE_ENV)var r={},a=0;var u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function f(e){function t(t,n,i,r,o,a){var s=t[n],u=E(s);if(u!==e){var l=k(s);return new c("Invalid "+r+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected ")+("`"+e+"`."))}return null}return h(t)}function p(){return h(i)}function d(e){function t(t,n,i,r,a){if("function"!=typeof e)return new c("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=E(s);return new c("Invalid "+r+" `"+a+"` of type "+("`"+u+"` supplied to `"+i+"`, expected an array."))}for(var l=0;l<s.length;l++){var h=e(s,l,i,r,a+"["+l+"]",o);if(h instanceof Error)return h}return null}return h(t)}function y(){function t(t,n,i,r,o){var a=t[n];if(!e(a)){var s=E(a);return new c("Invalid "+r+" `"+o+"` of type "+("`"+s+"` supplied to `"+i+"`, expected a single ReactElement."))}return null}return h(t)}function v(e){function t(t,n,i,r,o){if(!(t[n]instanceof e)){var a=e.name||X,s=P(t[n]);return new c("Invalid "+r+" `"+o+"` of type "+("`"+s+"` supplied to `"+i+"`, expected ")+("instance of `"+a+"`."))}return null}return h(t)}function b(e){function n(t,n,i,r,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;var u=JSON.stringify(e);return new c("Invalid "+r+" `"+o+"` of value `"+a+"` "+("supplied to `"+i+"`, expected one of "+u+"."))}return Array.isArray(e)?h(n):("production"!==t.env.NODE_ENV?s("Invalid argument supplied to oneOf, expected an instance of array."):void 0,i)}function g(e){function t(t,n,i,r,a){if("function"!=typeof e)return new c("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=t[n],u=E(s);if("object"!==u)return new c("Invalid "+r+" `"+a+"` of type "+("`"+u+"` supplied to `"+i+"`, expected an object."));for(var l in s)if(s.hasOwnProperty(l)){var h=e(s,l,i,r,a+"."+l,o);if(h instanceof Error)return h}return null}return h(t)}function m(e){function n(t,n,i,r,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,i,r,a,o))return null}return new c("Invalid "+r+" `"+a+"` supplied to "+("`"+i+"`."))}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV?s("Invalid argument supplied to oneOfType, expected an instance of array."):void 0,i;for(var r=0;r<e.length;r++){var a=e[r];if("function"!=typeof a)return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+S(a)+" at index "+r+"."),i}return h(n)}function w(){function e(e,t,n,i,r){return x(e[t])?null:new c("Invalid "+i+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return h(e)}function T(e){function t(t,n,i,r,a){var s=t[n],u=E(s);if("object"!==u)return new c("Invalid "+r+" `"+a+"` of type `"+u+"` "+("supplied to `"+i+"`, expected `object`."));for(var l in e){var h=e[l];if(h){var f=h(s,l,i,r,a+"."+l,o);if(f)return f}}return null}return h(t)}function _(e){function t(t,n,i,a,s){var u=t[n],l=E(u);if("object"!==l)return new c("Invalid "+a+" `"+s+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `object`."));var h=r({},t[n],e);for(var f in h){var p=e[f];if(!p)return new c("Invalid "+a+" `"+s+"` key `"+f+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=p(u,f,i,a,s+"."+f,o);if(d)return d}return null}return h(t)}function x(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(x);if(null===t||e(t))return!0;var n=u(t);if(!n)return!1;var i,r=n.call(t);if(n!==t.entries){for(;!(i=r.next()).done;)if(!x(i.value))return!1}else for(;!(i=r.next()).done;){var o=i.value;if(o&&!x(o[1]))return!1}return!0;default:return!1}}function O(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":O(t,e)?"symbol":t}function k(e){if("undefined"==typeof e||null===e)return""+e;var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function S(e){var t=k(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function P(e){return e.constructor&&e.constructor.name?e.constructor.name:X}var j="function"==typeof Symbol&&Symbol.iterator,M="@@iterator",X="<<anonymous>>",D={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:p(),arrayOf:d,element:y(),instanceOf:v,node:w(),objectOf:g,oneOf:b,oneOfType:m,shape:T,exact:_};return c.prototype=Error.prototype,D.checkPropTypes=a,D.PropTypes=D,D}}).call(t,n(3))},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(e,t){for(var i,s,u=n(e),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var c in i)o.call(i,c)&&(u[c]=i[c]);if(r){s=r(i);for(var h=0;h<s.length;h++)a.call(i,s[h])&&(u[s[h]]=i[s[h]])}}return u}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){(function(t){"use strict";function i(e,n,i,s,u){if("production"!==t.env.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var c;try{if("function"!=typeof e[l]){var h=Error((s||"React class")+": "+i+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[l]+"`.");throw h.name="Invariant Violation",h}c=e[l](n,l,s,i,null,o)}catch(e){c=e}if(!c||c instanceof Error||r((s||"React class")+": type specification of "+i+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var f=u?u():"";r("Failed "+i+" type: "+c.message+(null!=f?f:""))}}}var r=function(){};if("production"!==t.env.NODE_ENV){var o=n(6),a={};r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}e.exports=i}).call(t,n(3))},function(e,t,n){"use strict";function i(){}var r=n(6);e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.preV={x:null,y:null},n.pinchStartLen=null,n.scale=1,n.isDoubleTap=!1,n.delta=null,n.last=null,n.now=null,n.end=null,n.multiTouch=!1,n.tapTimeout=null,n.longTapTimeout=null,n.singleTapTimeout=null,n.swipeTimeout=null,n.x1=n.x2=n.y1=n.y2=null,n.preTapPosition={x:null,y:null},n}return a(t,e),s(t,[{key:"getLen",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"getAngle",value:function(e,t){var n=this.getLen(e)*this.getLen(t);if(0===n)return 0;var i=this.dot(e,t)/n;return i>1&&(i=1),Math.acos(i)}},{key:"cross",value:function(e,t){return e.x*t.y-t.x*e.y}},{key:"getRotateAngle",value:function(e,t){var n=this.getAngle(e,t);return this.cross(e,t)>0&&(n*=-1),180*n/Math.PI}},{key:"_resetState",value:function(){this.setState({x:null,y:null,swiping:!1,start:0})}},{key:"_emitEvent",value:function(e){if(this.props[e]){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.props)[e].apply(t,i)}}},{key:"_handleTouchStart",value:function(e){var t=this;if(e.touches){this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var n=this.preV,i=e.touches.length;if(i>1){this._cancelLongTap(),this._cancelSingleTap();var r={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};n.x=r.x,n.y=r.y,this.pinchStartLen=this.getLen(n),this._emitEvent("onMultipointStart",e)}this.longTapTimeout=setTimeout(function(){t._emitEvent("onLongTap",e)},750)}}},{key:"_handleTouchMove",value:function(e){var t=this.preV,n=e.touches.length,i=e.touches[0].pageX,r=e.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var o={x:e.touches[1].pageX-i,y:e.touches[1].pageY-r};null!==t.x&&(this.pinchStartLen>0&&(e.center={x:(e.touches[1].pageX+i)/2,y:(e.touches[1].pageY+r)/2},e.scale=this.getLen(o)/this.pinchStartLen,this._emitEvent("onPinch",e)),e.angle=this.getRotateAngle(o,t),this._emitEvent("onRotate",e)),t.x=o.x,t.y=o.y,this.multiTouch=!0}else null!==this.x2?(e.deltaX=i-this.x2,e.deltaY=r-this.y2):(e.deltaX=0,e.deltaY=0),this._emitEvent("onPressMove",e);this._cancelLongTap(),this.x2=i,this.y2=r,n>1&&e.preventDefault()}},{key:"_handleTouchCancel",value:function(){clearInterval(this.singleTapTimeout),clearInterval(this.tapTimeout),clearInterval(this.longTapTimeout),clearInterval(this.swipeTimeout)}},{key:"_handleTouchEnd",value:function(e){var t=this;this.end=Date.now(),this._cancelLongTap(),e.touches.length<2&&this._emitEvent("onMultipointEnd",e),e.origin=[this.x1,this.y1],this.multiTouch===!1&&(this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.preV.y-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),e.distance=Math.abs(this.x1-this.x2),this.swipeTimeout=setTimeout(function(){t._emitEvent("onSwipe",e)},0)):this.tapTimeout=setTimeout(function(){t._emitEvent("onTap",e),t.isDoubleTap?(t._emitEvent("onDoubleTap",e),clearTimeout(t.singleTapTimeout),t.isDoubleTap=!1):t.singleTapTimeout=setTimeout(function(){t._emitEvent("onSingleTap",e)},250)},0)),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null,this.multiTouch=!1}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(e,t,n,i){return Math.abs(e-t)>80||this.end-this.now<250?Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down":"Nochange"}},{key:"render",value:function(){return l.default.cloneElement(l.default.Children.only(this.props.children),{onTouchStart:this._handleTouchStart.bind(this),onTouchMove:this._handleTouchMove.bind(this),onTouchCancel:this._handleTouchCancel.bind(this),onTouchEnd:this._handleTouchEnd.bind(this)})}}]),t}(u.Component);t.default=c},function(e,t){"use strict";function n(e,t,n){for(var r=0,o=t.length;r<o;r++){var a=t[r];i(e,a,n)}}function i(e,t,n){Object.defineProperty(e,t,{get:function(){return this["__"+t]},set:function(e){e!==this["__"+t]&&(this["__"+t]=e,n())}})}var r=function(e,t,n,i,r,o,a,s,u,l,c,h,f,p,d,y){this.elements=window.Float32Array?new Float32Array(16):[];var v=this.elements;v[0]=void 0!==e?e:1,v[4]=t||0,v[8]=n||0,v[12]=i||0,v[1]=r||0,v[5]=void 0!==o?o:1,v[9]=a||0,v[13]=s||0,v[2]=u||0,v[6]=l||0,v[10]=void 0!==c?c:1,v[14]=h||0,v[3]=f||0,v[7]=p||0,v[11]=d||0,v[15]=void 0!==y?y:1};r.DEG_TO_RAD=Math.PI/180,r.prototype={set:function(e,t,n,i,r,o,a,s,u,l,c,h,f,p,d,y){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=h,v[3]=f,v[7]=p,v[11]=d,v[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(e,t){var n=e.elements,i=this.elements,r=n[0],o=n[4],a=n[8],s=n[12],u=n[1],l=n[5],c=n[9],h=n[13],f=n[2],p=n[6],d=n[10],y=n[14],v=n[3],b=n[7],g=n[11],m=n[15],w=t[0],T=t[1],_=t[2],x=t[3],O=t[4],E=t[5],k=t[6],S=t[7],P=t[8],j=t[9],M=t[10],X=t[11],D=t[12],I=t[13],L=t[14],Y=t[15];return i[0]=r*w+o*O+a*P+s*D,i[4]=r*T+o*E+a*j+s*I,i[8]=r*_+o*k+a*M+s*L,i[12]=r*x+o*S+a*X+s*Y,i[1]=u*w+l*O+c*P+h*D,i[5]=u*T+l*E+c*j+h*I,i[9]=u*_+l*k+c*M+h*L,i[13]=u*x+l*S+c*X+h*Y,i[2]=f*w+p*O+d*P+y*D,i[6]=f*T+p*E+d*j+y*I,i[10]=f*_+p*k+d*M+y*L,i[14]=f*x+p*S+d*X+y*Y,i[3]=v*w+b*O+g*P+m*D,i[7]=v*T+b*E+g*j+m*I,i[11]=v*_+b*k+g*M+m*L,i[15]=v*x+b*S+g*X+m*Y,this},_rounded:function(e,t){return t=Math.pow(10,t||15),Math.round(e*t)/t},appendTransform:function(e,t,n,i,o,a,s,u,l,c,h,f,p,d){var y=s*r.DEG_TO_RAD,v=this._rounded(Math.cos(y)),b=this._rounded(Math.sin(y)),g=u*r.DEG_TO_RAD,m=this._rounded(Math.cos(g)),w=this._rounded(Math.sin(g)),T=l*r.DEG_TO_RAD,_=this._rounded(Math.cos(T*-1)),x=this._rounded(Math.sin(T*-1));return this.multiplyMatrices(this,[1,0,0,e,0,v,b,t,0,-b,v,n,0,0,0,1]),this.multiplyMatrices(this,[m,0,w,0,0,1,0,0,-w,0,m,0,0,0,0,1]),this.multiplyMatrices(this,[_*i,x*o,0,0,-x*i,_*o,0,0,0,0,1*a,0,0,0,0,1]),(c||h)&&this.multiplyMatrices(this,[this._rounded(Math.cos(c*r.DEG_TO_RAD)),this._rounded(Math.sin(c*r.DEG_TO_RAD)),0,0,-1*this._rounded(Math.sin(h*r.DEG_TO_RAD)),this._rounded(Math.cos(h*r.DEG_TO_RAD)),0,0,0,0,1,0,0,0,0,1]),(f||p||d)&&(this.elements[12]-=f*this.elements[0]+p*this.elements[4]+d*this.elements[8],this.elements[13]-=f*this.elements[1]+p*this.elements[5]+d*this.elements[9],this.elements[14]-=f*this.elements[2]+p*this.elements[6]+d*this.elements[10]),this}};var o=function(e){n(e,["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],function(){var t=e.matrix3D.identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ);e.style.transform=e.style.msTransform=e.style.OTransform=e.style.MozTransform=e.style.webkitTransform="perspective("+e.perspective+"px) matrix3d("+Array.prototype.slice.call(t.elements).join(",")+")"}),n(e,["perspective"],function(){e.style.transform=e.style.msTransform=e.style.OTransform=e.style.MozTransform=e.style.webkitTransform="perspective("+e.perspective+"px) matrix3d("+Array.prototype.slice.call(e.matrix3D.elements).join(",")+")"}),e.matrix3D=new r,e.perspective=500,e.scaleX=e.scaleY=e.scaleZ=1,e.translateX=e.translateY=e.translateZ=e.rotateX=e.rotateY=e.rotateZ=e.skewX=e.skewY=e.originX=e.originY=e.originZ=0};e.exports=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CenterImage=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),h=i(c),f=3,p=(t.CenterImage=function(e){function t(){var e,n,i,r;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.state={loading:!0,error:!1,loaded:!1},r=n,a(i,r)}return s(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,i=this.props,o=i.index,a=i.current,s=i.lazysrc,l=r(i,["index","current","lazysrc"]),c=h.default.createElement("img",u({onLoad:this.onImgLoad.bind(this),src:s},l));return o===a?c:t?h.default.createElement(p,null):n?h.default.createElement(d,null):c}},{key:"componentWillMount",value:function(){this.loadImg()}},{key:"componentWillReceiveProps",value:function(e){!this.state.loaded&&this.loadImg()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("orientationchange",this.onOrientationChange)}},{key:"loadImg",value:function(){var e=this,t=this.props,n=t.index,i=t.current,r=t.lazysrc;if(r&&n<=i+f&&n>=i-f){var o=new Image;o.src=r,o.onload=function(){e.setState({loading:!1})},o.onerror=function(){e.setState({loading:!1,error:!0})}}}},{key:"onOrientationChange",value:function(e){var t=this;setTimeout(function(){t.onImgLoad({target:e})},100)}},{key:"onImgLoad",value:function(e){this.state.loaded||(this.onOrientationChange=this.onOrientationChange.bind(this,e.target),window.addEventListener("orientationchange",this.onOrientationChange)),this.setState({loaded:!0});var t=e.target,n=t.naturalHeight,i=t.naturalWidth,r=n/i,o=window.innerHeight||window.screen.availHeight,a=window.innerWidth||window.screen.availWidth,s=o/a,u={};r>=3.5&&t.setAttribute("long",!0),r>s?(u.height=o+"px",u.width=i*o/n+"px",u.left=a/2-i*o/n/2+"px"):r<s?(u.width=a+"px",u.height=n*a/i+"px",u.top=o/2-n*a/i/2+"px"):(u.width=a,u.height=o),t.setAttribute("style","width:"+u.width+"; height:"+u.height+"; left:"+u.left+"; top:"+u.top+";"),t.setAttribute("rate",1/r)}}]),t}(c.Component),function(){return h.default.createElement("div",{className:"spinner"},h.default.createElement("div",{className:"double-bounce1"}),h.default.createElement("div",{className:"double-bounce2"}))}),d=function(){return h.default.createElement("div",{className:"errorpage"},"加载失败")}},function(e,t){e.exports=require("react-singleton")},function(e,t){}]);